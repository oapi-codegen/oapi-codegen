// Code generated by oapi-codegen; DO NOT EDIT.

package output

import (
	"encoding/json"
	"fmt"
)

// #/components/schemas/SimpleDefaults
type SimpleDefaultsSchemaComponent struct {
	StringField *string  `json:"stringField,omitempty" form:"stringField,omitempty"`
	IntField    *int     `json:"intField,omitempty" form:"intField,omitempty"`
	BoolField   *bool    `json:"boolField,omitempty" form:"boolField,omitempty"`
	FloatField  *float32 `json:"floatField,omitempty" form:"floatField,omitempty"`
	Int64Field  *int64   `json:"int64Field,omitempty" form:"int64Field,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *SimpleDefaultsSchemaComponent) ApplyDefaults() {
	if s.StringField == nil {
		v := "hello"
		s.StringField = &v
	}
	if s.IntField == nil {
		v := 42
		s.IntField = &v
	}
	if s.BoolField == nil {
		v := true
		s.BoolField = &v
	}
	if s.FloatField == nil {
		v := float32(3.14)
		s.FloatField = &v
	}
	if s.Int64Field == nil {
		v := int64(9223372036854775807)
		s.Int64Field = &v
	}
}

type SimpleDefaults = SimpleDefaultsSchemaComponent

// #/components/schemas/NestedDefaults
type NestedDefaultsSchemaComponent struct {
	Name        *string                    `json:"name,omitempty" form:"name,omitempty"`
	Child       *SimpleDefaults            `json:"child,omitempty" form:"child,omitempty"`
	InlineChild *NestedDefaultsInlineChild `json:"inlineChild,omitempty" form:"inlineChild,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *NestedDefaultsSchemaComponent) ApplyDefaults() {
	if s.Name == nil {
		v := "parent"
		s.Name = &v
	}
	if s.Child != nil {
		s.Child.ApplyDefaults()
	}
	if s.InlineChild != nil {
		s.InlineChild.ApplyDefaults()
	}
}

type NestedDefaults = NestedDefaultsSchemaComponent

// #/components/schemas/NestedDefaults/properties/inlineChild
type NestedDefaultsInlineChildPropertySchemaComponent struct {
	Label *string `json:"label,omitempty" form:"label,omitempty"`
	Value *int    `json:"value,omitempty" form:"value,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *NestedDefaultsInlineChildPropertySchemaComponent) ApplyDefaults() {
	if s.Label == nil {
		v := "inline-default"
		s.Label = &v
	}
	if s.Value == nil {
		v := 100
		s.Value = &v
	}
}

type NestedDefaultsInlineChild = NestedDefaultsInlineChildPropertySchemaComponent

// #/components/schemas/MapWithDefaults
type MapWithDefaultsSchemaComponent struct {
	Prefix               *string           `json:"prefix,omitempty" form:"prefix,omitempty"`
	AdditionalProperties map[string]string `json:"-"`
}

func (s MapWithDefaultsSchemaComponent) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if s.Prefix != nil {
		result["prefix"] = s.Prefix
	}

	// Add additional properties
	for k, v := range s.AdditionalProperties {
		result[k] = v
	}

	return json.Marshal(result)
}

func (s *MapWithDefaultsSchemaComponent) UnmarshalJSON(data []byte) error {
	// Known fields
	knownFields := map[string]bool{
		"prefix": true,
	}

	var raw map[string]json.RawMessage
	if err := json.Unmarshal(data, &raw); err != nil {
		return err
	}

	if v, ok := raw["prefix"]; ok {
		var val string
		if err := json.Unmarshal(v, &val); err != nil {
			return err
		}
		s.Prefix = &val
	}

	// Collect additional properties
	s.AdditionalProperties = make(map[string]string)
	for k, v := range raw {
		if !knownFields[k] {
			var val string
			if err := json.Unmarshal(v, &val); err != nil {
				return err
			}
			s.AdditionalProperties[k] = val
		}
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (s *MapWithDefaultsSchemaComponent) ApplyDefaults() {
	if s.Prefix == nil {
		v := "map-"
		s.Prefix = &v
	}
}

type MapWithDefaults = MapWithDefaultsSchemaComponent

// #/components/schemas/ArrayDefaults
type ArrayDefaultsSchemaComponent struct {
	Items []string `json:"items,omitempty" form:"items,omitempty"`
	Count *int     `json:"count,omitempty" form:"count,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *ArrayDefaultsSchemaComponent) ApplyDefaults() {
	if s.Count == nil {
		v := 0
		s.Count = &v
	}
}

type ArrayDefaults = ArrayDefaultsSchemaComponent

// #/components/schemas/AnyOfWithDefaults
type AnyOfWithDefaultsSchemaComponent struct {
	Value *AnyOfWithDefaultsValue `json:"value,omitempty" form:"value,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *AnyOfWithDefaultsSchemaComponent) ApplyDefaults() {
}

type AnyOfWithDefaults = AnyOfWithDefaultsSchemaComponent

// #/components/schemas/AnyOfWithDefaults/properties/value
type AnyOfWithDefaultsValuePropertySchemaComponent struct {
	AnyOfWithDefaultsValueAnyOf0 *AnyOfWithDefaultsValueAnyOf0
	AnyOfWithDefaultsValueAnyOf1 *AnyOfWithDefaultsValueAnyOf1
}

func (u AnyOfWithDefaultsValuePropertySchemaComponent) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if u.AnyOfWithDefaultsValueAnyOf0 != nil {
		data, err := json.Marshal(u.AnyOfWithDefaultsValueAnyOf0)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}
	if u.AnyOfWithDefaultsValueAnyOf1 != nil {
		data, err := json.Marshal(u.AnyOfWithDefaultsValueAnyOf1)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}

	return json.Marshal(result)
}

func (u *AnyOfWithDefaultsValuePropertySchemaComponent) UnmarshalJSON(data []byte) error {
	var v0 AnyOfWithDefaultsValueAnyOf0
	if err := json.Unmarshal(data, &v0); err == nil {
		u.AnyOfWithDefaultsValueAnyOf0 = &v0
	}

	var v1 AnyOfWithDefaultsValueAnyOf1
	if err := json.Unmarshal(data, &v1); err == nil {
		u.AnyOfWithDefaultsValueAnyOf1 = &v1
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *AnyOfWithDefaultsValuePropertySchemaComponent) ApplyDefaults() {
	if u.AnyOfWithDefaultsValueAnyOf0 != nil {
		u.AnyOfWithDefaultsValueAnyOf0.ApplyDefaults()
	}
	if u.AnyOfWithDefaultsValueAnyOf1 != nil {
		u.AnyOfWithDefaultsValueAnyOf1.ApplyDefaults()
	}
}

type AnyOfWithDefaultsValue = AnyOfWithDefaultsValuePropertySchemaComponent

// #/components/schemas/AnyOfWithDefaults/properties/value/anyOf/0
type AnyOfWithDefaultsValueN0AnyOfPropertySchemaComponent struct {
	StringVal *string `json:"stringVal,omitempty" form:"stringVal,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *AnyOfWithDefaultsValueN0AnyOfPropertySchemaComponent) ApplyDefaults() {
	if s.StringVal == nil {
		v := "default-string"
		s.StringVal = &v
	}
}

type AnyOfWithDefaultsValueAnyOf0 = AnyOfWithDefaultsValueN0AnyOfPropertySchemaComponent

// #/components/schemas/AnyOfWithDefaults/properties/value/anyOf/1
type AnyOfWithDefaultsValueN1AnyOfPropertySchemaComponent struct {
	IntVal *int `json:"intVal,omitempty" form:"intVal,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *AnyOfWithDefaultsValueN1AnyOfPropertySchemaComponent) ApplyDefaults() {
	if s.IntVal == nil {
		v := 999
		s.IntVal = &v
	}
}

type AnyOfWithDefaultsValueAnyOf1 = AnyOfWithDefaultsValueN1AnyOfPropertySchemaComponent

// #/components/schemas/OneOfWithDefaults
type OneOfWithDefaultsSchemaComponent struct {
	Variant *OneOfWithDefaultsVariant `json:"variant,omitempty" form:"variant,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *OneOfWithDefaultsSchemaComponent) ApplyDefaults() {
}

type OneOfWithDefaults = OneOfWithDefaultsSchemaComponent

// #/components/schemas/OneOfWithDefaults/properties/variant
type OneOfWithDefaultsVariantPropertySchemaComponent struct {
	OneOfWithDefaultsVariantOneOf0 *OneOfWithDefaultsVariantOneOf0
	OneOfWithDefaultsVariantOneOf1 *OneOfWithDefaultsVariantOneOf1
}

func (u OneOfWithDefaultsVariantPropertySchemaComponent) MarshalJSON() ([]byte, error) {
	var count int
	var data []byte
	var err error

	if u.OneOfWithDefaultsVariantOneOf0 != nil {
		count++
		data, err = json.Marshal(u.OneOfWithDefaultsVariantOneOf0)
		if err != nil {
			return nil, err
		}
	}
	if u.OneOfWithDefaultsVariantOneOf1 != nil {
		count++
		data, err = json.Marshal(u.OneOfWithDefaultsVariantOneOf1)
		if err != nil {
			return nil, err
		}
	}

	if count != 1 {
		return nil, fmt.Errorf("OneOfWithDefaultsVariantPropertySchemaComponent: exactly one member must be set, got %d", count)
	}

	return data, nil
}

func (u *OneOfWithDefaultsVariantPropertySchemaComponent) UnmarshalJSON(data []byte) error {
	var successCount int

	var v0 OneOfWithDefaultsVariantOneOf0
	if err := json.Unmarshal(data, &v0); err == nil {
		u.OneOfWithDefaultsVariantOneOf0 = &v0
		successCount++
	}

	var v1 OneOfWithDefaultsVariantOneOf1
	if err := json.Unmarshal(data, &v1); err == nil {
		u.OneOfWithDefaultsVariantOneOf1 = &v1
		successCount++
	}

	if successCount != 1 {
		return fmt.Errorf("OneOfWithDefaultsVariantPropertySchemaComponent: expected exactly one type to match, got %d", successCount)
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *OneOfWithDefaultsVariantPropertySchemaComponent) ApplyDefaults() {
	if u.OneOfWithDefaultsVariantOneOf0 != nil {
		u.OneOfWithDefaultsVariantOneOf0.ApplyDefaults()
	}
	if u.OneOfWithDefaultsVariantOneOf1 != nil {
		u.OneOfWithDefaultsVariantOneOf1.ApplyDefaults()
	}
}

type OneOfWithDefaultsVariant = OneOfWithDefaultsVariantPropertySchemaComponent

// #/components/schemas/OneOfWithDefaults/properties/variant/oneOf/0
type OneOfWithDefaultsVariantN0OneOfPropertySchemaComponent struct {
	OptionA *string `json:"optionA,omitempty" form:"optionA,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *OneOfWithDefaultsVariantN0OneOfPropertySchemaComponent) ApplyDefaults() {
	if s.OptionA == nil {
		v := "option-a-default"
		s.OptionA = &v
	}
}

type OneOfWithDefaultsVariantOneOf0 = OneOfWithDefaultsVariantN0OneOfPropertySchemaComponent

// #/components/schemas/OneOfWithDefaults/properties/variant/oneOf/1
type OneOfWithDefaultsVariantN1OneOfPropertySchemaComponent struct {
	OptionB *int `json:"optionB,omitempty" form:"optionB,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *OneOfWithDefaultsVariantN1OneOfPropertySchemaComponent) ApplyDefaults() {
	if s.OptionB == nil {
		v := 123
		s.OptionB = &v
	}
}

type OneOfWithDefaultsVariantOneOf1 = OneOfWithDefaultsVariantN1OneOfPropertySchemaComponent

// #/components/schemas/AllOfWithDefaults
type AllOfWithDefaultsSchemaComponent struct {
	Base     *string `json:"base,omitempty" form:"base,omitempty"`
	Extended *int    `json:"extended,omitempty" form:"extended,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *AllOfWithDefaultsSchemaComponent) ApplyDefaults() {
	if s.Base == nil {
		v := "base-value"
		s.Base = &v
	}
	if s.Extended == nil {
		v := 50
		s.Extended = &v
	}
}

type AllOfWithDefaults = AllOfWithDefaultsSchemaComponent

// #/components/schemas/AllOfWithDefaults/allOf/0
type AllOfWithDefaultsN0AllOfSchemaComponent struct {
	Base *string `json:"base,omitempty" form:"base,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *AllOfWithDefaultsN0AllOfSchemaComponent) ApplyDefaults() {
	if s.Base == nil {
		v := "base-value"
		s.Base = &v
	}
}

type AllOfWithDefaultsAllOf0 = AllOfWithDefaultsN0AllOfSchemaComponent

// #/components/schemas/AllOfWithDefaults/allOf/1
type AllOfWithDefaultsN1AllOfSchemaComponent struct {
	Extended *int `json:"extended,omitempty" form:"extended,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *AllOfWithDefaultsN1AllOfSchemaComponent) ApplyDefaults() {
	if s.Extended == nil {
		v := 50
		s.Extended = &v
	}
}

type AllOfWithDefaultsAllOf1 = AllOfWithDefaultsN1AllOfSchemaComponent

// #/components/schemas/DeepNesting
type DeepNestingSchemaComponent struct {
	Level1 *DeepNestingLevel1 `json:"level1,omitempty" form:"level1,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *DeepNestingSchemaComponent) ApplyDefaults() {
	if s.Level1 != nil {
		s.Level1.ApplyDefaults()
	}
}

type DeepNesting = DeepNestingSchemaComponent

// #/components/schemas/DeepNesting/properties/level1
type DeepNestingLevel1PropertySchemaComponent struct {
	Name   *string                  `json:"name,omitempty" form:"name,omitempty"`
	Level2 *DeepNestingLevel1Level2 `json:"level2,omitempty" form:"level2,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *DeepNestingLevel1PropertySchemaComponent) ApplyDefaults() {
	if s.Name == nil {
		v := "level1-name"
		s.Name = &v
	}
	if s.Level2 != nil {
		s.Level2.ApplyDefaults()
	}
}

type DeepNestingLevel1 = DeepNestingLevel1PropertySchemaComponent

// #/components/schemas/DeepNesting/properties/level1/properties/level2
type DeepNestingLevel1Level2PropertyPropertySchemaComponent struct {
	Count  *int                           `json:"count,omitempty" form:"count,omitempty"`
	Level3 *DeepNestingLevel1Level2Level3 `json:"level3,omitempty" form:"level3,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *DeepNestingLevel1Level2PropertyPropertySchemaComponent) ApplyDefaults() {
	if s.Count == nil {
		v := 2
		s.Count = &v
	}
	if s.Level3 != nil {
		s.Level3.ApplyDefaults()
	}
}

type DeepNestingLevel1Level2 = DeepNestingLevel1Level2PropertyPropertySchemaComponent

// #/components/schemas/DeepNesting/properties/level1/properties/level2/properties/level3
type DeepNestingLevel1Level2Level3PropertyPropertyPropertySchemaComponent struct {
	Enabled *bool `json:"enabled,omitempty" form:"enabled,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *DeepNestingLevel1Level2Level3PropertyPropertyPropertySchemaComponent) ApplyDefaults() {
	if s.Enabled == nil {
		v := false
		s.Enabled = &v
	}
}

type DeepNestingLevel1Level2Level3 = DeepNestingLevel1Level2Level3PropertyPropertyPropertySchemaComponent

// #/components/schemas/RequiredAndOptional
type RequiredAndOptionalSchemaComponent struct {
	RequiredWithDefault string  `json:"requiredWithDefault" form:"requiredWithDefault"`
	RequiredNoDefault   string  `json:"requiredNoDefault" form:"requiredNoDefault"`
	OptionalWithDefault *string `json:"optionalWithDefault,omitempty" form:"optionalWithDefault,omitempty"`
	OptionalNoDefault   *string `json:"optionalNoDefault,omitempty" form:"optionalNoDefault,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *RequiredAndOptionalSchemaComponent) ApplyDefaults() {
	if s.OptionalWithDefault == nil {
		v := "optional-default"
		s.OptionalWithDefault = &v
	}
}

type RequiredAndOptional = RequiredAndOptionalSchemaComponent
