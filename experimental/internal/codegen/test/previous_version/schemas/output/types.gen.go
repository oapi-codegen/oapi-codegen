// Code generated by oapi-codegen; DO NOT EDIT.

package output

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"encoding/json"
	"errors"
	"fmt"
	"strings"
	"sync"
)

// #/components/schemas/GenericObject
type GenericObject struct {
}

// ApplyDefaults sets default values for fields that are nil.
func (s *GenericObject) ApplyDefaults() {
}

// #/components/schemas/AnyType1
type AnyType1 = any

// #/components/schemas/AnyType2
// AnyType2 represents any type.
//
// This should be an interface{}
type AnyType2 = any

// #/components/schemas/CustomStringType
type CustomStringType = string

// #/components/schemas/NullableProperties
type NullableProperties struct {
	Optional            *string          `json:"optional,omitempty" form:"optional,omitempty"`
	OptionalAndNullable Nullable[string] `json:"optionalAndNullable,omitempty" form:"optionalAndNullable,omitempty"`
	Required            string           `json:"required" form:"required"`
	RequiredAndNullable Nullable[string] `json:"requiredAndNullable" form:"requiredAndNullable"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *NullableProperties) ApplyDefaults() {
}

// #/components/schemas/5StartsWithNumber
// This schema name starts with a number
type N5StartsWithNumber struct {
}

// ApplyDefaults sets default values for fields that are nil.
func (s *N5StartsWithNumber) ApplyDefaults() {
}

// #/components/schemas/EnumInObjInArray
type EnumInObjInArray = []EnumInObjInArrayItem

// #/components/schemas/EnumInObjInArray/items
type EnumInObjInArrayItem struct {
	Val *string `json:"val,omitempty" form:"val,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *EnumInObjInArrayItem) ApplyDefaults() {
}

// #/components/schemas/EnumInObjInArray/items/properties/val
type EnumInObjInArrayVal string

const (
	First  EnumInObjInArrayVal = "first"
	Second EnumInObjInArrayVal = "second"
)

// #/components/schemas/DeprecatedProperty
type DeprecatedProperty struct {
	// Use this now!
	NewProp  string  `json:"newProp" form:"newProp"`
	OldProp1 *string `json:"oldProp1,omitempty" form:"oldProp1,omitempty"`
	// It used to do this and that
	OldProp2 *string `json:"oldProp2,omitempty" form:"oldProp2,omitempty"`
	// Deprecated: Use NewProp instead!
	OldProp3 *string `json:"oldProp3,omitempty" form:"oldProp3,omitempty"`
	// It used to do this and that
	// Deprecated: Use NewProp instead!
	OldProp4 *string `json:"oldProp4,omitempty" form:"oldProp4,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *DeprecatedProperty) ApplyDefaults() {
}

// #/components/schemas/OuterTypeWithAnonymousInner
type OuterTypeWithAnonymousInner struct {
	Name  string                      `json:"name" form:"name"`
	Inner InnerRenamedAnonymousObject `json:"inner" form:"inner"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *OuterTypeWithAnonymousInner) ApplyDefaults() {
}

// #/components/schemas/OuterTypeWithAnonymousInner/properties/inner
type InnerRenamedAnonymousObject struct {
	ID int `json:"id" form:"id"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *InnerRenamedAnonymousObject) ApplyDefaults() {
}

// #/paths//ensure-everything-is-referenced/get/responses/200/content/application/json/schema
type EnsureEverythingIsReferencedJSONResponse struct {
	AnyType1         *AnyType1         `json:"anyType1,omitempty" form:"anyType1,omitempty"`
	AnyType2         *AnyType2         `json:"anyType2,omitempty" form:"anyType2,omitempty"`
	CustomStringType *CustomStringType `json:"customStringType,omitempty" form:"customStringType,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *EnsureEverythingIsReferencedJSONResponse) ApplyDefaults() {
}

// #/paths//issues/1051/get/responses/200/content/application/vnd.something.v1+json/schema
type Issue1051JSONResponse2001 struct {
}

// ApplyDefaults sets default values for fields that are nil.
func (s *Issue1051JSONResponse2001) ApplyDefaults() {
}

// #/paths//issues/1051/get/responses/200/content/application/json/schema
type Issue1051JSONResponse2002 struct {
}

// ApplyDefaults sets default values for fields that are nil.
func (s *Issue1051JSONResponse2002) ApplyDefaults() {
}

// Base64-encoded, gzip-compressed OpenAPI spec.
var openAPISpecJSON = []string{
	"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",
	"AAA=",
}

// decodeOpenAPISpec decodes and decompresses the embedded spec.
func decodeOpenAPISpec() ([]byte, error) {
	joined := strings.Join(openAPISpecJSON, "")
	raw, err := base64.StdEncoding.DecodeString(joined)
	if err != nil {
		return nil, fmt.Errorf("decoding base64: %w", err)
	}
	r, err := gzip.NewReader(bytes.NewReader(raw))
	if err != nil {
		return nil, fmt.Errorf("creating gzip reader: %w", err)
	}
	defer r.Close()
	var out bytes.Buffer
	if _, err := out.ReadFrom(r); err != nil {
		return nil, fmt.Errorf("decompressing: %w", err)
	}
	return out.Bytes(), nil
}

// decodeOpenAPISpecCached returns a closure that caches the decoded spec.
func decodeOpenAPISpecCached() func() ([]byte, error) {
	var cached []byte
	var cachedErr error
	var once sync.Once
	return func() ([]byte, error) {
		once.Do(func() {
			cached, cachedErr = decodeOpenAPISpec()
		})
		return cached, cachedErr
	}
}

var openAPISpec = decodeOpenAPISpecCached()

// GetOpenAPISpecJSON returns the raw OpenAPI spec as JSON bytes.
func GetOpenAPISpecJSON() ([]byte, error) {
	return openAPISpec()
}

// Nullable is a generic type that can distinguish between:
// - Field not provided (unspecified)
// - Field explicitly set to null
// - Field has a value
//
// This is implemented as a map[bool]T where:
// - Empty map: unspecified
// - map[false]T: explicitly null
// - map[true]T: has a value
type Nullable[T any] map[bool]T

// NewNullableWithValue creates a Nullable with the given value.
func NewNullableWithValue[T any](value T) Nullable[T] {
	return Nullable[T]{true: value}
}

// NewNullNullable creates a Nullable that is explicitly null.
func NewNullNullable[T any]() Nullable[T] {
	return Nullable[T]{false: *new(T)}
}

// Get returns the value if set, or an error if null or unspecified.
func (n Nullable[T]) Get() (T, error) {
	if v, ok := n[true]; ok {
		return v, nil
	}
	var zero T
	if n.IsNull() {
		return zero, ErrNullableIsNull
	}
	return zero, ErrNullableNotSpecified
}

// MustGet returns the value or panics if null or unspecified.
func (n Nullable[T]) MustGet() T {
	v, err := n.Get()
	if err != nil {
		panic(err)
	}
	return v
}

// Set assigns a value.
func (n *Nullable[T]) Set(value T) {
	*n = Nullable[T]{true: value}
}

// SetNull marks the field as explicitly null.
func (n *Nullable[T]) SetNull() {
	*n = Nullable[T]{false: *new(T)}
}

// SetUnspecified clears the field (as if it was never set).
func (n *Nullable[T]) SetUnspecified() {
	*n = nil
}

// IsNull returns true if the field is explicitly null.
func (n Nullable[T]) IsNull() bool {
	if n == nil {
		return false
	}
	_, ok := n[false]
	return ok
}

// IsSpecified returns true if the field was provided (either null or a value).
func (n Nullable[T]) IsSpecified() bool {
	return len(n) > 0
}

// MarshalJSON implements json.Marshaler.
func (n Nullable[T]) MarshalJSON() ([]byte, error) {
	if n.IsNull() {
		return []byte("null"), nil
	}
	if v, ok := n[true]; ok {
		return json.Marshal(v)
	}
	// Unspecified - this shouldn't be called if omitempty is used correctly
	return []byte("null"), nil
}

// UnmarshalJSON implements json.Unmarshaler.
func (n *Nullable[T]) UnmarshalJSON(data []byte) error {
	if string(data) == "null" {
		n.SetNull()
		return nil
	}
	var v T
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	n.Set(v)
	return nil
}

// ErrNullableIsNull is returned when trying to get a value from a null Nullable.
var ErrNullableIsNull = errors.New("nullable value is null")

// ErrNullableNotSpecified is returned when trying to get a value from an unspecified Nullable.
var ErrNullableNotSpecified = errors.New("nullable value is not specified")
