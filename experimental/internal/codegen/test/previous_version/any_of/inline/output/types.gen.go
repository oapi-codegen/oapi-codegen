// Code generated by oapi-codegen; DO NOT EDIT.

package output

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"encoding/json"
	"fmt"
	"strings"
	"sync"
)

// #/components/schemas/Cat
// This is a cat
type Cat struct {
	ID    *string `json:"id,omitempty" form:"id,omitempty"`
	Name  *string `json:"name,omitempty" form:"name,omitempty"`
	Breed *string `json:"breed,omitempty" form:"breed,omitempty"`
	Color *string `json:"color,omitempty" form:"color,omitempty"`
	Purrs *bool   `json:"purrs,omitempty" form:"purrs,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *Cat) ApplyDefaults() {
}

// #/components/schemas/Dog
// This is a dog
type Dog struct {
	ID    *string `json:"id,omitempty" form:"id,omitempty"`
	Name  *string `json:"name,omitempty" form:"name,omitempty"`
	Breed *string `json:"breed,omitempty" form:"breed,omitempty"`
	Color *string `json:"color,omitempty" form:"color,omitempty"`
	Barks *bool   `json:"barks,omitempty" form:"barks,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *Dog) ApplyDefaults() {
}

// #/components/schemas/Rat
// This is a rat
type Rat struct {
	ID      *string `json:"id,omitempty" form:"id,omitempty"`
	Name    *string `json:"name,omitempty" form:"name,omitempty"`
	Color   *string `json:"color,omitempty" form:"color,omitempty"`
	Squeaks *bool   `json:"squeaks,omitempty" form:"squeaks,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *Rat) ApplyDefaults() {
}

// #/paths//pets/get/responses/200/content/application/json/schema
type GetPetsJSONResponse struct {
	Data []GetPets200ResponseJSON2 `json:"data,omitempty" form:"data,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *GetPetsJSONResponse) ApplyDefaults() {
}

// #/paths//pets/get/responses/200/content/application/json/schema/properties/data
type GetPets200ResponseJSON1 = []GetPets200ResponseJSON2

// #/paths//pets/get/responses/200/content/application/json/schema/properties/data/items
type GetPets200ResponseJSON2 struct {
	Cat *Cat
	Dog *Dog
	Rat *Rat
}

func (u GetPets200ResponseJSON2) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if u.Cat != nil {
		data, err := json.Marshal(u.Cat)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}
	if u.Dog != nil {
		data, err := json.Marshal(u.Dog)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}
	if u.Rat != nil {
		data, err := json.Marshal(u.Rat)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}

	return json.Marshal(result)
}

func (u *GetPets200ResponseJSON2) UnmarshalJSON(data []byte) error {
	var v0 Cat
	if err := json.Unmarshal(data, &v0); err == nil {
		u.Cat = &v0
	}

	var v1 Dog
	if err := json.Unmarshal(data, &v1); err == nil {
		u.Dog = &v1
	}

	var v2 Rat
	if err := json.Unmarshal(data, &v2); err == nil {
		u.Rat = &v2
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *GetPets200ResponseJSON2) ApplyDefaults() {
	if u.Cat != nil {
		u.Cat.ApplyDefaults()
	}
	if u.Dog != nil {
		u.Dog.ApplyDefaults()
	}
	if u.Rat != nil {
		u.Rat.ApplyDefaults()
	}
}

// Base64-encoded, gzip-compressed OpenAPI spec.
var openAPISpecJSON = []string{
	"H4sIAAAAAAAC/9RTzW7bPBC86ykG+D7Al8Zy+nPRzUiCwuihQdICBYoe1tTaYiqR7O4qrfv0hWQ7luMk",
	"bnMo0Bs53BnOkLsxcaDkC7waT8aTzIdFLDLglkV9DAVOexgwbzUXOCPTFziPSwWFEldkiunlLANKVic+",
	"Wc/6UPkeB9V1/K6wiuFqz8FgEcKO/S2ju0wa6iigeWwNrpcvt/JCpuNMWTo7na0TtFIXqMySFnnOP6hJ",
	"NY9dbHJKPlN2rXhbrUunyb/j1bS1qsDnL1kiq3qRPLH1C2DJtl4A2jYNyarAWzYQaq+GuEBXu6k4TMih",
	"TNEHg7C1EvQeb4wLclW3hKOAOYO9VSygLmifE7HbCdl4c0lMLP2LzMqis3e5u19YUwzKurUMjF5OJqPd",
	"9p7H69Y5Vl209R13UOpiMA42ZAOUUu1dbyC/0Rj2TwF1FTd0HwVslbhAnN+ws4PDJF0q80PnA8tk9BC+",
	"FSURWj147o0bfZgKUFi9Xzx22LXH/8KLAqP/chebFAMH03wdT/MzstEzqedx+Vzq1fDW0evJ6eNf+zFQ",
	"a1UU/5PLHeXNU90wC8YSqMZ1P0+4EImS7Wx0xO0AXXeOtt81mKNs72N6fAP5UKBiKlk2QKCGC3w6mV7O",
	"TtZlm5hrkTOyfbW93jkcNa/rqckebylfDrOvVdXEh+Ud3Js6VjQX5uNSLtZRjlalVkQPq+Yx1kyhx8/j",
	"8s9foozLf+wl5iRfj7zE1XN6Qv5KT/xeRv3WMj2V8lcAAAD//xm6HytuBwAA",
}

// decodeOpenAPISpec decodes and decompresses the embedded spec.
func decodeOpenAPISpec() ([]byte, error) {
	joined := strings.Join(openAPISpecJSON, "")
	raw, err := base64.StdEncoding.DecodeString(joined)
	if err != nil {
		return nil, fmt.Errorf("decoding base64: %w", err)
	}
	r, err := gzip.NewReader(bytes.NewReader(raw))
	if err != nil {
		return nil, fmt.Errorf("creating gzip reader: %w", err)
	}
	defer r.Close()
	var out bytes.Buffer
	if _, err := out.ReadFrom(r); err != nil {
		return nil, fmt.Errorf("decompressing: %w", err)
	}
	return out.Bytes(), nil
}

// decodeOpenAPISpecCached returns a closure that caches the decoded spec.
func decodeOpenAPISpecCached() func() ([]byte, error) {
	var cached []byte
	var cachedErr error
	var once sync.Once
	return func() ([]byte, error) {
		once.Do(func() {
			cached, cachedErr = decodeOpenAPISpec()
		})
		return cached, cachedErr
	}
}

var openAPISpec = decodeOpenAPISpecCached()

// GetOpenAPISpecJSON returns the raw OpenAPI spec as JSON bytes.
func GetOpenAPISpecJSON() ([]byte, error) {
	return openAPISpec()
}
