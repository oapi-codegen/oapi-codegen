// Code generated by oapi-codegen; DO NOT EDIT.

package spec_ext

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"strings"
	"sync"
)

// #/components/schemas/CamelSchema
type CamelSchema struct {
	ID *string `json:"id,omitempty" form:"id,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *CamelSchema) ApplyDefaults() {
}

// #/components/schemas/pascalSchema
type PascalSchema struct {
	ID *string `json:"id,omitempty" form:"id,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *PascalSchema) ApplyDefaults() {
}

// #/components/schemas/Foo
type Foo struct {
	InternalAttr *string       `json:"internalAttr,omitempty" form:"internalAttr,omitempty"`
	CamelSchema  *CamelSchema  `json:"CamelSchema,omitempty" form:"CamelSchema,omitempty"`
	PascalSchema *PascalSchema `json:"pascalSchema,omitempty" form:"pascalSchema,omitempty"`
}

// ApplyDefaults sets default values for fields that are nil.
func (s *Foo) ApplyDefaults() {
	if s.CamelSchema != nil {
		s.CamelSchema.ApplyDefaults()
	}
	if s.PascalSchema != nil {
		s.PascalSchema.ApplyDefaults()
	}
}

// Base64-encoded, gzip-compressed OpenAPI spec.
var openAPISpecJSON = []string{
	"H4sIAAAAAAAC/7SQTU7EMAyF9z2FFVi3BXbZISQuwAlC8IBHrW3ZFhK3R+1MaSX+1MVkZT3nfXl5oshF",
	"KcNd27e3DfFBcgPwjuYknCH1bd/epKbKqMLI4dPa6xuOZR4BHsqIw9OsnASA+FDMIM9HrHGW1ETRgtCX",
	"SwD0ss6LycOIX2dZi9dyEfKjyF4gBxqX4T7C/kT/0sh0rg0PGdJVt5bZnZvsNpb0ZfmpgP9AW89EMnQV",
	"9uUv6bRPC64KB3Ks9KI6UC1Bwt3Rhbfv+rcke7J8BgAA//+a2cs2awIAAA==",
}

// decodeOpenAPISpec decodes and decompresses the embedded spec.
func decodeOpenAPISpec() ([]byte, error) {
	joined := strings.Join(openAPISpecJSON, "")
	raw, err := base64.StdEncoding.DecodeString(joined)
	if err != nil {
		return nil, fmt.Errorf("decoding base64: %w", err)
	}
	r, err := gzip.NewReader(bytes.NewReader(raw))
	if err != nil {
		return nil, fmt.Errorf("creating gzip reader: %w", err)
	}
	defer r.Close()
	var out bytes.Buffer
	if _, err := out.ReadFrom(r); err != nil {
		return nil, fmt.Errorf("decompressing: %w", err)
	}
	return out.Bytes(), nil
}

// decodeOpenAPISpecCached returns a closure that caches the decoded spec.
func decodeOpenAPISpecCached() func() ([]byte, error) {
	var cached []byte
	var cachedErr error
	var once sync.Once
	return func() ([]byte, error) {
		once.Do(func() {
			cached, cachedErr = decodeOpenAPISpec()
		})
		return cached, cachedErr
	}
}

var openAPISpec = decodeOpenAPISpecCached()

// GetOpenAPISpecJSON returns the raw OpenAPI spec as JSON bytes.
func GetOpenAPISpecJSON() ([]byte, error) {
	return openAPISpec()
}
