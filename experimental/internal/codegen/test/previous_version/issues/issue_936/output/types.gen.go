// Code generated by oapi-codegen; DO NOT EDIT.

package output

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"encoding/json"
	"fmt"
	"strings"
	"sync"
)

// #/components/schemas/FilterColumnIncludes
type FilterColumnIncludes struct {
	DollarSignIncludes   *FilterPredicate `json:"$includes,omitempty" form:"$includes,omitempty"`
	AdditionalProperties map[string]any   `json:"-"`
}

func (s FilterColumnIncludes) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if s.DollarSignIncludes != nil {
		result["$includes"] = s.DollarSignIncludes
	}

	// Add additional properties
	for k, v := range s.AdditionalProperties {
		result[k] = v
	}

	return json.Marshal(result)
}

func (s *FilterColumnIncludes) UnmarshalJSON(data []byte) error {
	// Known fields
	knownFields := map[string]bool{
		"$includes": true,
	}

	var raw map[string]json.RawMessage
	if err := json.Unmarshal(data, &raw); err != nil {
		return err
	}

	if v, ok := raw["$includes"]; ok {
		var val FilterPredicate
		if err := json.Unmarshal(v, &val); err != nil {
			return err
		}
		s.DollarSignIncludes = &val
	}

	// Collect additional properties
	s.AdditionalProperties = make(map[string]any)
	for k, v := range raw {
		if !knownFields[k] {
			var val any
			if err := json.Unmarshal(v, &val); err != nil {
				return err
			}
			s.AdditionalProperties[k] = val
		}
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (s *FilterColumnIncludes) ApplyDefaults() {
	if s.DollarSignIncludes != nil {
		s.DollarSignIncludes.ApplyDefaults()
	}
}

// #/components/schemas/FilterPredicate
type FilterPredicate struct {
	FilterValue            *FilterValue
	FilterPredicateOneOf1  *FilterPredicateOneOf1
	FilterPredicateOp      *FilterPredicateOp
	FilterPredicateRangeOp *FilterPredicateRangeOp
}

func (u FilterPredicate) MarshalJSON() ([]byte, error) {
	var count int
	var data []byte
	var err error

	if u.FilterValue != nil {
		count++
		data, err = json.Marshal(u.FilterValue)
		if err != nil {
			return nil, err
		}
	}
	if u.FilterPredicateOneOf1 != nil {
		count++
		data, err = json.Marshal(u.FilterPredicateOneOf1)
		if err != nil {
			return nil, err
		}
	}
	if u.FilterPredicateOp != nil {
		count++
		data, err = json.Marshal(u.FilterPredicateOp)
		if err != nil {
			return nil, err
		}
	}
	if u.FilterPredicateRangeOp != nil {
		count++
		data, err = json.Marshal(u.FilterPredicateRangeOp)
		if err != nil {
			return nil, err
		}
	}

	if count != 1 {
		return nil, fmt.Errorf("FilterPredicate: exactly one member must be set, got %d", count)
	}

	return data, nil
}

func (u *FilterPredicate) UnmarshalJSON(data []byte) error {
	var successCount int

	var v0 FilterValue
	if err := json.Unmarshal(data, &v0); err == nil {
		u.FilterValue = &v0
		successCount++
	}

	var v1 FilterPredicateOneOf1
	if err := json.Unmarshal(data, &v1); err == nil {
		u.FilterPredicateOneOf1 = &v1
		successCount++
	}

	var v2 FilterPredicateOp
	if err := json.Unmarshal(data, &v2); err == nil {
		u.FilterPredicateOp = &v2
		successCount++
	}

	var v3 FilterPredicateRangeOp
	if err := json.Unmarshal(data, &v3); err == nil {
		u.FilterPredicateRangeOp = &v3
		successCount++
	}

	if successCount != 1 {
		return fmt.Errorf("FilterPredicate: expected exactly one type to match, got %d", successCount)
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *FilterPredicate) ApplyDefaults() {
	if u.FilterValue != nil {
		u.FilterValue.ApplyDefaults()
	}
	if u.FilterPredicateOp != nil {
		u.FilterPredicateOp.ApplyDefaults()
	}
	if u.FilterPredicateRangeOp != nil {
		u.FilterPredicateRangeOp.ApplyDefaults()
	}
}

// #/components/schemas/FilterPredicate/oneOf/1
type FilterPredicateOneOf1 = []FilterPredicate

// #/components/schemas/FilterPredicateOp
type FilterPredicateOp struct {
	DollarSignAny        *FilterPredicateOpAny  `json:"$any,omitempty" form:"$any,omitempty"`
	DollarSignNone       *FilterPredicateOpNone `json:"$none,omitempty" form:"$none,omitempty"`
	AdditionalProperties map[string]any         `json:"-"`
}

func (s FilterPredicateOp) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if s.DollarSignAny != nil {
		result["$any"] = s.DollarSignAny
	}
	if s.DollarSignNone != nil {
		result["$none"] = s.DollarSignNone
	}

	// Add additional properties
	for k, v := range s.AdditionalProperties {
		result[k] = v
	}

	return json.Marshal(result)
}

func (s *FilterPredicateOp) UnmarshalJSON(data []byte) error {
	// Known fields
	knownFields := map[string]bool{
		"$any":  true,
		"$none": true,
	}

	var raw map[string]json.RawMessage
	if err := json.Unmarshal(data, &raw); err != nil {
		return err
	}

	if v, ok := raw["$any"]; ok {
		var val FilterPredicateOpAny
		if err := json.Unmarshal(v, &val); err != nil {
			return err
		}
		s.DollarSignAny = &val
	}
	if v, ok := raw["$none"]; ok {
		var val FilterPredicateOpNone
		if err := json.Unmarshal(v, &val); err != nil {
			return err
		}
		s.DollarSignNone = &val
	}

	// Collect additional properties
	s.AdditionalProperties = make(map[string]any)
	for k, v := range raw {
		if !knownFields[k] {
			var val any
			if err := json.Unmarshal(v, &val); err != nil {
				return err
			}
			s.AdditionalProperties[k] = val
		}
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (s *FilterPredicateOp) ApplyDefaults() {
}

// #/components/schemas/FilterPredicateOp/properties/$any
type FilterPredicateOpAny struct {
	FilterPredicateOpAnyOneOf0 *FilterPredicateOpAnyOneOf0
}

func (u FilterPredicateOpAny) MarshalJSON() ([]byte, error) {
	var count int
	var data []byte
	var err error

	if u.FilterPredicateOpAnyOneOf0 != nil {
		count++
		data, err = json.Marshal(u.FilterPredicateOpAnyOneOf0)
		if err != nil {
			return nil, err
		}
	}

	if count != 1 {
		return nil, fmt.Errorf("FilterPredicateOpAny: exactly one member must be set, got %d", count)
	}

	return data, nil
}

func (u *FilterPredicateOpAny) UnmarshalJSON(data []byte) error {
	var successCount int

	var v0 FilterPredicateOpAnyOneOf0
	if err := json.Unmarshal(data, &v0); err == nil {
		u.FilterPredicateOpAnyOneOf0 = &v0
		successCount++
	}

	if successCount != 1 {
		return fmt.Errorf("FilterPredicateOpAny: expected exactly one type to match, got %d", successCount)
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *FilterPredicateOpAny) ApplyDefaults() {
}

// #/components/schemas/FilterPredicateOp/properties/$any/oneOf/0
type FilterPredicateOpAnyOneOf0 = []FilterPredicate

// #/components/schemas/FilterPredicateOp/properties/$none
type FilterPredicateOpNone struct {
	FilterPredicate             *FilterPredicate
	FilterPredicateOpNoneOneOf1 *FilterPredicateOpNoneOneOf1
}

func (u FilterPredicateOpNone) MarshalJSON() ([]byte, error) {
	var count int
	var data []byte
	var err error

	if u.FilterPredicate != nil {
		count++
		data, err = json.Marshal(u.FilterPredicate)
		if err != nil {
			return nil, err
		}
	}
	if u.FilterPredicateOpNoneOneOf1 != nil {
		count++
		data, err = json.Marshal(u.FilterPredicateOpNoneOneOf1)
		if err != nil {
			return nil, err
		}
	}

	if count != 1 {
		return nil, fmt.Errorf("FilterPredicateOpNone: exactly one member must be set, got %d", count)
	}

	return data, nil
}

func (u *FilterPredicateOpNone) UnmarshalJSON(data []byte) error {
	var successCount int

	var v0 FilterPredicate
	if err := json.Unmarshal(data, &v0); err == nil {
		u.FilterPredicate = &v0
		successCount++
	}

	var v1 FilterPredicateOpNoneOneOf1
	if err := json.Unmarshal(data, &v1); err == nil {
		u.FilterPredicateOpNoneOneOf1 = &v1
		successCount++
	}

	if successCount != 1 {
		return fmt.Errorf("FilterPredicateOpNone: expected exactly one type to match, got %d", successCount)
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *FilterPredicateOpNone) ApplyDefaults() {
	if u.FilterPredicate != nil {
		u.FilterPredicate.ApplyDefaults()
	}
}

// #/components/schemas/FilterPredicateOp/properties/$none/oneOf/1
type FilterPredicateOpNoneOneOf1 = []FilterPredicate

// #/components/schemas/FilterPredicateRangeOp
type FilterPredicateRangeOp struct {
	DollarSignLt         *FilterRangeValue `json:"$lt,omitempty" form:"$lt,omitempty"`
	AdditionalProperties map[string]any    `json:"-"`
}

func (s FilterPredicateRangeOp) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if s.DollarSignLt != nil {
		result["$lt"] = s.DollarSignLt
	}

	// Add additional properties
	for k, v := range s.AdditionalProperties {
		result[k] = v
	}

	return json.Marshal(result)
}

func (s *FilterPredicateRangeOp) UnmarshalJSON(data []byte) error {
	// Known fields
	knownFields := map[string]bool{
		"$lt": true,
	}

	var raw map[string]json.RawMessage
	if err := json.Unmarshal(data, &raw); err != nil {
		return err
	}

	if v, ok := raw["$lt"]; ok {
		var val FilterRangeValue
		if err := json.Unmarshal(v, &val); err != nil {
			return err
		}
		s.DollarSignLt = &val
	}

	// Collect additional properties
	s.AdditionalProperties = make(map[string]any)
	for k, v := range raw {
		if !knownFields[k] {
			var val any
			if err := json.Unmarshal(v, &val); err != nil {
				return err
			}
			s.AdditionalProperties[k] = val
		}
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (s *FilterPredicateRangeOp) ApplyDefaults() {
	if s.DollarSignLt != nil {
		s.DollarSignLt.ApplyDefaults()
	}
}

// #/components/schemas/FilterRangeValue
type FilterRangeValue struct {
	Float320 *float32
	String1  *string
}

func (u FilterRangeValue) MarshalJSON() ([]byte, error) {
	var count int
	var data []byte
	var err error

	if u.Float320 != nil {
		count++
		data, err = json.Marshal(u.Float320)
		if err != nil {
			return nil, err
		}
	}
	if u.String1 != nil {
		count++
		data, err = json.Marshal(u.String1)
		if err != nil {
			return nil, err
		}
	}

	if count != 1 {
		return nil, fmt.Errorf("FilterRangeValue: exactly one member must be set, got %d", count)
	}

	return data, nil
}

func (u *FilterRangeValue) UnmarshalJSON(data []byte) error {
	var successCount int

	var v0 float32
	if err := json.Unmarshal(data, &v0); err == nil {
		u.Float320 = &v0
		successCount++
	}

	var v1 string
	if err := json.Unmarshal(data, &v1); err == nil {
		u.String1 = &v1
		successCount++
	}

	if successCount != 1 {
		return fmt.Errorf("FilterRangeValue: expected exactly one type to match, got %d", successCount)
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *FilterRangeValue) ApplyDefaults() {
}

// #/components/schemas/FilterValue
type FilterValue struct {
	Float320 *float32
	String1  *string
	Bool2    *bool
}

func (u FilterValue) MarshalJSON() ([]byte, error) {
	var count int
	var data []byte
	var err error

	if u.Float320 != nil {
		count++
		data, err = json.Marshal(u.Float320)
		if err != nil {
			return nil, err
		}
	}
	if u.String1 != nil {
		count++
		data, err = json.Marshal(u.String1)
		if err != nil {
			return nil, err
		}
	}
	if u.Bool2 != nil {
		count++
		data, err = json.Marshal(u.Bool2)
		if err != nil {
			return nil, err
		}
	}

	if count != 1 {
		return nil, fmt.Errorf("FilterValue: exactly one member must be set, got %d", count)
	}

	return data, nil
}

func (u *FilterValue) UnmarshalJSON(data []byte) error {
	var successCount int

	var v0 float32
	if err := json.Unmarshal(data, &v0); err == nil {
		u.Float320 = &v0
		successCount++
	}

	var v1 string
	if err := json.Unmarshal(data, &v1); err == nil {
		u.String1 = &v1
		successCount++
	}

	var v2 bool
	if err := json.Unmarshal(data, &v2); err == nil {
		u.Bool2 = &v2
		successCount++
	}

	if successCount != 1 {
		return fmt.Errorf("FilterValue: expected exactly one type to match, got %d", successCount)
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *FilterValue) ApplyDefaults() {
}

// Base64-encoded, gzip-compressed OpenAPI spec.
var openAPISpecJSON = []string{
	"H4sIAAAAAAAC/7xTz2vbMBS++694pIWcGsVxsmS+bgwGg5YeepfkZ1ur/CSk51Iz9r+PJm7sJuvWhK03",
	"80nf+37I7wLujISa2cdciMpw3aqZdo2okO8NiXtDV84jSW+Esk4JlaVyqdSi0MVqkal0uV4XcrNZLct5",
	"uV5tVh91kaVLlYmelQnGyIVkKQLqNkTzgLdYChNjix/S1axrbNLfzWGSzeazbJIYKl2eALBhizl8RvSw",
	"p4PutDUaApYR8FE23mIC8IAhGkc5TNLZfJJ4yXV8miFK53L48TPRrvGOkHgLR11jI7efAF+MZQyfnG0b",
	"+kratgX2JwDceczBqe+ouYd8cB4Dm+ESwKU54G3BgGUO0wsxaIteWOw0bwIWRkvGaU+TRWHYOJL2ZlCB",
	"UtqI/Y1GPo6P0mfY0DF8IPLszRFel4PRqzcYvZO23Zt8oux6kSHIbpTYMDYvKjirhD7PN6SK6yHi25zu",
	"p1376XnEW0nVnn009NQfQ1I3LuSg+z+V+UqhZ5d6SY7wr17OfK/3ivFfF6R/+VOf2PJpW7+VebFRJ6da",
	"/D7VYpRqUHl173cBqW0UhiM4cjBUjQb+m1ljWDlnUVLyKwAA///YvM5FiAYAAA==",
}

// decodeOpenAPISpec decodes and decompresses the embedded spec.
func decodeOpenAPISpec() ([]byte, error) {
	joined := strings.Join(openAPISpecJSON, "")
	raw, err := base64.StdEncoding.DecodeString(joined)
	if err != nil {
		return nil, fmt.Errorf("decoding base64: %w", err)
	}
	r, err := gzip.NewReader(bytes.NewReader(raw))
	if err != nil {
		return nil, fmt.Errorf("creating gzip reader: %w", err)
	}
	defer r.Close()
	var out bytes.Buffer
	if _, err := out.ReadFrom(r); err != nil {
		return nil, fmt.Errorf("decompressing: %w", err)
	}
	return out.Bytes(), nil
}

// decodeOpenAPISpecCached returns a closure that caches the decoded spec.
func decodeOpenAPISpecCached() func() ([]byte, error) {
	var cached []byte
	var cachedErr error
	var once sync.Once
	return func() ([]byte, error) {
		once.Do(func() {
			cached, cachedErr = decodeOpenAPISpec()
		})
		return cached, cachedErr
	}
}

var openAPISpec = decodeOpenAPISpecCached()

// GetOpenAPISpecJSON returns the raw OpenAPI spec as JSON bytes.
func GetOpenAPISpecJSON() ([]byte, error) {
	return openAPISpec()
}
