// Code generated by oapi-codegen; DO NOT EDIT.

package output

import (
	"encoding/json"
)

// #/components/schemas/test
type TestSchemaComponent struct {
	TestAnyOf0 *TestAnyOf0
	TestAnyOf1 *TestAnyOf1
}

type Test = TestSchemaComponent

func (u TestSchemaComponent) MarshalJSON() ([]byte, error) {
	result := make(map[string]any)

	if u.TestAnyOf0 != nil {
		data, err := json.Marshal(u.TestAnyOf0)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}
	if u.TestAnyOf1 != nil {
		data, err := json.Marshal(u.TestAnyOf1)
		if err != nil {
			return nil, err
		}
		var m map[string]any
		if err := json.Unmarshal(data, &m); err == nil {
			for k, v := range m {
				result[k] = v
			}
		}
	}

	return json.Marshal(result)
}

func (u *TestSchemaComponent) UnmarshalJSON(data []byte) error {
	var v0 TestAnyOf0
	if err := json.Unmarshal(data, &v0); err == nil {
		u.TestAnyOf0 = &v0
	}

	var v1 TestAnyOf1
	if err := json.Unmarshal(data, &v1); err == nil {
		u.TestAnyOf1 = &v1
	}

	return nil
}

// ApplyDefaults sets default values for fields that are nil.
func (u *TestSchemaComponent) ApplyDefaults() {
	if u.TestAnyOf0 != nil {
		u.TestAnyOf0.ApplyDefaults()
	}
	if u.TestAnyOf1 != nil {
		u.TestAnyOf1.ApplyDefaults()
	}
}

// #/components/schemas/test/anyOf/0
type Test0AnyOfSchemaComponent struct {
	FieldA *string `json:"fieldA,omitempty" form:"fieldA,omitempty"`
}

type TestAnyOf0 = Test0AnyOfSchemaComponent

// ApplyDefaults sets default values for fields that are nil.
func (s *Test0AnyOfSchemaComponent) ApplyDefaults() {
}

// #/components/schemas/test/anyOf/1
type Test1AnyOfSchemaComponent struct {
	FieldA *string `json:"fieldA,omitempty" form:"fieldA,omitempty"`
}

type TestAnyOf1 = Test1AnyOfSchemaComponent

// ApplyDefaults sets default values for fields that are nil.
func (s *Test1AnyOfSchemaComponent) ApplyDefaults() {
}

// #/components/schemas/test/anyOf/1/properties/fieldA
type Test1FieldAPropertyAnyOfSchemaComponent string

const (
	TestAnyOf1FieldA_foo Test1FieldAPropertyAnyOfSchemaComponent = "foo"
	TestAnyOf1FieldA_bar Test1FieldAPropertyAnyOfSchemaComponent = "bar"
)

type TestAnyOf1FieldA = Test1FieldAPropertyAnyOfSchemaComponent
