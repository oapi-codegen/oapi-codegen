// Package oneof provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.0.0-00010101000000-000000000000 DO NOT EDIT.
package oneof

import (
	"encoding/json"
	"errors"
	"fmt"

	"github.com/oapi-codegen/runtime"
)

// ArrayOfOneOf defines model for ArrayOfOneOf.
type ArrayOfOneOf = []ArrayOfOneOf_Item

// ArrayOfOneOf_Item defines model for ArrayOfOneOf.Item.
type ArrayOfOneOf_Item struct {
	union json.RawMessage
}

// BasicOneOf oneOf with references, no discriminator
type BasicOneOf struct {
	union json.RawMessage
}

// ConfigHttp defines model for ConfigHttp.
type ConfigHttp struct {
	ConfigType string `json:"config_type"`
	Url        string `json:"url"`
}

// ConfigSsh defines model for ConfigSsh.
type ConfigSsh struct {
	ConfigType string `json:"config_type"`
	Host       string `json:"host"`
}

// DiscriminatedVariantA defines model for DiscriminatedVariantA.
type DiscriminatedVariantA struct {
	Discriminator string `json:"discriminator"`
	Name          string `json:"name"`
}

// DiscriminatedVariantB defines model for DiscriminatedVariantB.
type DiscriminatedVariantB struct {
	Discriminator string `json:"discriminator"`
	Id            int    `json:"id"`
}

// FixedPropVariant defines model for FixedPropVariant.
type FixedPropVariant struct {
	Values Variant2 `json:"values"`
}

// InlineOneOf oneOf with inline elements
type InlineOneOf struct {
	union json.RawMessage
}

// InlineOneOf0 defines model for .
type InlineOneOf0 struct {
	Label *string `json:"label,omitempty"`
}

// InlineOneOf1 defines model for .
type InlineOneOf1 = []float32

// InlineOneOf2 defines model for .
type InlineOneOf2 = bool

// OneOfMultiMapping defines model for OneOfMultiMapping.
type OneOfMultiMapping struct {
	union json.RawMessage
}

// OneOfWithDiscriminator defines model for OneOfWithDiscriminator.
type OneOfWithDiscriminator struct {
	union json.RawMessage
}

// OneOfWithFixedDiscriminator defines model for OneOfWithFixedDiscriminator.
type OneOfWithFixedDiscriminator struct {
	Type  string `json:"type"`
	union json.RawMessage
}

// OneOfWithFixedProps defines model for OneOfWithFixedProps.
type OneOfWithFixedProps struct {
	Fixed *string `json:"fixed,omitempty"`
	union json.RawMessage
}

// OneOfWithMapping defines model for OneOfWithMapping.
type OneOfWithMapping struct {
	union json.RawMessage
}

// Variant1 defines model for Variant1.
type Variant1 struct {
	Name string `json:"name"`
}

// Variant2 defines model for Variant2.
type Variant2 = []int

// Variant3 defines model for Variant3.
type Variant3 = bool

// AsVariant1 returns the union data inside the ArrayOfOneOf_Item as a Variant1
func (t ArrayOfOneOf_Item) AsVariant1() (Variant1, error) {
	var body Variant1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant1 overwrites any union data inside the ArrayOfOneOf_Item as the provided Variant1
func (t *ArrayOfOneOf_Item) FromVariant1(v Variant1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant1 performs a merge with any union data inside the ArrayOfOneOf_Item, using the provided Variant1
func (t *ArrayOfOneOf_Item) MergeVariant1(v Variant1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsVariant2 returns the union data inside the ArrayOfOneOf_Item as a Variant2
func (t ArrayOfOneOf_Item) AsVariant2() (Variant2, error) {
	var body Variant2
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant2 overwrites any union data inside the ArrayOfOneOf_Item as the provided Variant2
func (t *ArrayOfOneOf_Item) FromVariant2(v Variant2) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant2 performs a merge with any union data inside the ArrayOfOneOf_Item, using the provided Variant2
func (t *ArrayOfOneOf_Item) MergeVariant2(v Variant2) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t ArrayOfOneOf_Item) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *ArrayOfOneOf_Item) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsVariant1 returns the union data inside the BasicOneOf as a Variant1
func (t BasicOneOf) AsVariant1() (Variant1, error) {
	var body Variant1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant1 overwrites any union data inside the BasicOneOf as the provided Variant1
func (t *BasicOneOf) FromVariant1(v Variant1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant1 performs a merge with any union data inside the BasicOneOf, using the provided Variant1
func (t *BasicOneOf) MergeVariant1(v Variant1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsVariant2 returns the union data inside the BasicOneOf as a Variant2
func (t BasicOneOf) AsVariant2() (Variant2, error) {
	var body Variant2
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant2 overwrites any union data inside the BasicOneOf as the provided Variant2
func (t *BasicOneOf) FromVariant2(v Variant2) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant2 performs a merge with any union data inside the BasicOneOf, using the provided Variant2
func (t *BasicOneOf) MergeVariant2(v Variant2) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsVariant3 returns the union data inside the BasicOneOf as a Variant3
func (t BasicOneOf) AsVariant3() (Variant3, error) {
	var body Variant3
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant3 overwrites any union data inside the BasicOneOf as the provided Variant3
func (t *BasicOneOf) FromVariant3(v Variant3) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant3 performs a merge with any union data inside the BasicOneOf, using the provided Variant3
func (t *BasicOneOf) MergeVariant3(v Variant3) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t BasicOneOf) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *BasicOneOf) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsInlineOneOf0 returns the union data inside the InlineOneOf as a InlineOneOf0
func (t InlineOneOf) AsInlineOneOf0() (InlineOneOf0, error) {
	var body InlineOneOf0
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromInlineOneOf0 overwrites any union data inside the InlineOneOf as the provided InlineOneOf0
func (t *InlineOneOf) FromInlineOneOf0(v InlineOneOf0) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeInlineOneOf0 performs a merge with any union data inside the InlineOneOf, using the provided InlineOneOf0
func (t *InlineOneOf) MergeInlineOneOf0(v InlineOneOf0) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsInlineOneOf1 returns the union data inside the InlineOneOf as a InlineOneOf1
func (t InlineOneOf) AsInlineOneOf1() (InlineOneOf1, error) {
	var body InlineOneOf1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromInlineOneOf1 overwrites any union data inside the InlineOneOf as the provided InlineOneOf1
func (t *InlineOneOf) FromInlineOneOf1(v InlineOneOf1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeInlineOneOf1 performs a merge with any union data inside the InlineOneOf, using the provided InlineOneOf1
func (t *InlineOneOf) MergeInlineOneOf1(v InlineOneOf1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsInlineOneOf2 returns the union data inside the InlineOneOf as a InlineOneOf2
func (t InlineOneOf) AsInlineOneOf2() (InlineOneOf2, error) {
	var body InlineOneOf2
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromInlineOneOf2 overwrites any union data inside the InlineOneOf as the provided InlineOneOf2
func (t *InlineOneOf) FromInlineOneOf2(v InlineOneOf2) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeInlineOneOf2 performs a merge with any union data inside the InlineOneOf, using the provided InlineOneOf2
func (t *InlineOneOf) MergeInlineOneOf2(v InlineOneOf2) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t InlineOneOf) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *InlineOneOf) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsConfigHttp returns the union data inside the OneOfMultiMapping as a ConfigHttp
func (t OneOfMultiMapping) AsConfigHttp() (ConfigHttp, error) {
	var body ConfigHttp
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromConfigHttp overwrites any union data inside the OneOfMultiMapping as the provided ConfigHttp
func (t *OneOfMultiMapping) FromConfigHttp(v ConfigHttp) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeConfigHttp performs a merge with any union data inside the OneOfMultiMapping, using the provided ConfigHttp
func (t *OneOfMultiMapping) MergeConfigHttp(v ConfigHttp) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsConfigSsh returns the union data inside the OneOfMultiMapping as a ConfigSsh
func (t OneOfMultiMapping) AsConfigSsh() (ConfigSsh, error) {
	var body ConfigSsh
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromConfigSsh overwrites any union data inside the OneOfMultiMapping as the provided ConfigSsh
func (t *OneOfMultiMapping) FromConfigSsh(v ConfigSsh) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeConfigSsh performs a merge with any union data inside the OneOfMultiMapping, using the provided ConfigSsh
func (t *OneOfMultiMapping) MergeConfigSsh(v ConfigSsh) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t OneOfMultiMapping) Discriminator() (string, error) {
	var discriminator struct {
		Discriminator string `json:"config_type"`
	}
	err := json.Unmarshal(t.union, &discriminator)
	return discriminator.Discriminator, err
}

func (t OneOfMultiMapping) ValueByDiscriminator() (interface{}, error) {
	discriminator, err := t.Discriminator()
	if err != nil {
		return nil, err
	}
	switch discriminator {
	case "apache_server":
		return t.AsConfigHttp()
	case "ssh_server":
		return t.AsConfigSsh()
	case "web_server":
		return t.AsConfigHttp()
	default:
		return nil, errors.New("unknown discriminator value: " + discriminator)
	}
}

func (t OneOfMultiMapping) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *OneOfMultiMapping) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsDiscriminatedVariantA returns the union data inside the OneOfWithDiscriminator as a DiscriminatedVariantA
func (t OneOfWithDiscriminator) AsDiscriminatedVariantA() (DiscriminatedVariantA, error) {
	var body DiscriminatedVariantA
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromDiscriminatedVariantA overwrites any union data inside the OneOfWithDiscriminator as the provided DiscriminatedVariantA
func (t *OneOfWithDiscriminator) FromDiscriminatedVariantA(v DiscriminatedVariantA) error {
	v.Discriminator = "DiscriminatedVariantA"
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeDiscriminatedVariantA performs a merge with any union data inside the OneOfWithDiscriminator, using the provided DiscriminatedVariantA
func (t *OneOfWithDiscriminator) MergeDiscriminatedVariantA(v DiscriminatedVariantA) error {
	v.Discriminator = "DiscriminatedVariantA"
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsDiscriminatedVariantB returns the union data inside the OneOfWithDiscriminator as a DiscriminatedVariantB
func (t OneOfWithDiscriminator) AsDiscriminatedVariantB() (DiscriminatedVariantB, error) {
	var body DiscriminatedVariantB
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromDiscriminatedVariantB overwrites any union data inside the OneOfWithDiscriminator as the provided DiscriminatedVariantB
func (t *OneOfWithDiscriminator) FromDiscriminatedVariantB(v DiscriminatedVariantB) error {
	v.Discriminator = "DiscriminatedVariantB"
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeDiscriminatedVariantB performs a merge with any union data inside the OneOfWithDiscriminator, using the provided DiscriminatedVariantB
func (t *OneOfWithDiscriminator) MergeDiscriminatedVariantB(v DiscriminatedVariantB) error {
	v.Discriminator = "DiscriminatedVariantB"
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t OneOfWithDiscriminator) Discriminator() (string, error) {
	var discriminator struct {
		Discriminator string `json:"discriminator"`
	}
	err := json.Unmarshal(t.union, &discriminator)
	return discriminator.Discriminator, err
}

func (t OneOfWithDiscriminator) ValueByDiscriminator() (interface{}, error) {
	discriminator, err := t.Discriminator()
	if err != nil {
		return nil, err
	}
	switch discriminator {
	case "DiscriminatedVariantA":
		return t.AsDiscriminatedVariantA()
	case "DiscriminatedVariantB":
		return t.AsDiscriminatedVariantB()
	default:
		return nil, errors.New("unknown discriminator value: " + discriminator)
	}
}

func (t OneOfWithDiscriminator) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *OneOfWithDiscriminator) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}

// AsVariant1 returns the union data inside the OneOfWithFixedDiscriminator as a Variant1
func (t OneOfWithFixedDiscriminator) AsVariant1() (Variant1, error) {
	var body Variant1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant1 overwrites any union data inside the OneOfWithFixedDiscriminator as the provided Variant1
func (t *OneOfWithFixedDiscriminator) FromVariant1(v Variant1) error {
	t.Type = "v1"

	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant1 performs a merge with any union data inside the OneOfWithFixedDiscriminator, using the provided Variant1
func (t *OneOfWithFixedDiscriminator) MergeVariant1(v Variant1) error {
	t.Type = "v1"

	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsFixedPropVariant returns the union data inside the OneOfWithFixedDiscriminator as a FixedPropVariant
func (t OneOfWithFixedDiscriminator) AsFixedPropVariant() (FixedPropVariant, error) {
	var body FixedPropVariant
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromFixedPropVariant overwrites any union data inside the OneOfWithFixedDiscriminator as the provided FixedPropVariant
func (t *OneOfWithFixedDiscriminator) FromFixedPropVariant(v FixedPropVariant) error {
	t.Type = "v_fixed"

	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeFixedPropVariant performs a merge with any union data inside the OneOfWithFixedDiscriminator, using the provided FixedPropVariant
func (t *OneOfWithFixedDiscriminator) MergeFixedPropVariant(v FixedPropVariant) error {
	t.Type = "v_fixed"

	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t OneOfWithFixedDiscriminator) Discriminator() (string, error) {
	var discriminator struct {
		Discriminator string `json:"type"`
	}
	err := json.Unmarshal(t.union, &discriminator)
	return discriminator.Discriminator, err
}

func (t OneOfWithFixedDiscriminator) ValueByDiscriminator() (interface{}, error) {
	discriminator, err := t.Discriminator()
	if err != nil {
		return nil, err
	}
	switch discriminator {
	case "v1":
		return t.AsVariant1()
	case "v_fixed":
		return t.AsFixedPropVariant()
	default:
		return nil, errors.New("unknown discriminator value: " + discriminator)
	}
}

func (t OneOfWithFixedDiscriminator) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	if err != nil {
		return nil, err
	}
	object := make(map[string]json.RawMessage)
	if t.union != nil {
		err = json.Unmarshal(b, &object)
		if err != nil {
			return nil, err
		}
	}

	object["type"], err = json.Marshal(t.Type)
	if err != nil {
		return nil, fmt.Errorf("error marshaling 'type': %w", err)
	}

	b, err = json.Marshal(object)
	return b, err
}

func (t *OneOfWithFixedDiscriminator) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	if err != nil {
		return err
	}
	object := make(map[string]json.RawMessage)
	err = json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["type"]; found {
		err = json.Unmarshal(raw, &t.Type)
		if err != nil {
			return fmt.Errorf("error reading 'type': %w", err)
		}
	}

	return err
}

// AsVariant1 returns the union data inside the OneOfWithFixedProps as a Variant1
func (t OneOfWithFixedProps) AsVariant1() (Variant1, error) {
	var body Variant1
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant1 overwrites any union data inside the OneOfWithFixedProps as the provided Variant1
func (t *OneOfWithFixedProps) FromVariant1(v Variant1) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant1 performs a merge with any union data inside the OneOfWithFixedProps, using the provided Variant1
func (t *OneOfWithFixedProps) MergeVariant1(v Variant1) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsVariant2 returns the union data inside the OneOfWithFixedProps as a Variant2
func (t OneOfWithFixedProps) AsVariant2() (Variant2, error) {
	var body Variant2
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromVariant2 overwrites any union data inside the OneOfWithFixedProps as the provided Variant2
func (t *OneOfWithFixedProps) FromVariant2(v Variant2) error {
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeVariant2 performs a merge with any union data inside the OneOfWithFixedProps, using the provided Variant2
func (t *OneOfWithFixedProps) MergeVariant2(v Variant2) error {
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t OneOfWithFixedProps) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	if err != nil {
		return nil, err
	}
	object := make(map[string]json.RawMessage)
	if t.union != nil {
		err = json.Unmarshal(b, &object)
		if err != nil {
			return nil, err
		}
	}

	if t.Fixed != nil {
		object["fixed"], err = json.Marshal(t.Fixed)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'fixed': %w", err)
		}
	}
	b, err = json.Marshal(object)
	return b, err
}

func (t *OneOfWithFixedProps) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	if err != nil {
		return err
	}
	object := make(map[string]json.RawMessage)
	err = json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["fixed"]; found {
		err = json.Unmarshal(raw, &t.Fixed)
		if err != nil {
			return fmt.Errorf("error reading 'fixed': %w", err)
		}
	}

	return err
}

// AsDiscriminatedVariantA returns the union data inside the OneOfWithMapping as a DiscriminatedVariantA
func (t OneOfWithMapping) AsDiscriminatedVariantA() (DiscriminatedVariantA, error) {
	var body DiscriminatedVariantA
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromDiscriminatedVariantA overwrites any union data inside the OneOfWithMapping as the provided DiscriminatedVariantA
func (t *OneOfWithMapping) FromDiscriminatedVariantA(v DiscriminatedVariantA) error {
	v.Discriminator = "va"
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeDiscriminatedVariantA performs a merge with any union data inside the OneOfWithMapping, using the provided DiscriminatedVariantA
func (t *OneOfWithMapping) MergeDiscriminatedVariantA(v DiscriminatedVariantA) error {
	v.Discriminator = "va"
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

// AsDiscriminatedVariantB returns the union data inside the OneOfWithMapping as a DiscriminatedVariantB
func (t OneOfWithMapping) AsDiscriminatedVariantB() (DiscriminatedVariantB, error) {
	var body DiscriminatedVariantB
	err := json.Unmarshal(t.union, &body)
	return body, err
}

// FromDiscriminatedVariantB overwrites any union data inside the OneOfWithMapping as the provided DiscriminatedVariantB
func (t *OneOfWithMapping) FromDiscriminatedVariantB(v DiscriminatedVariantB) error {
	v.Discriminator = "vb"
	b, err := json.Marshal(v)
	t.union = b
	return err
}

// MergeDiscriminatedVariantB performs a merge with any union data inside the OneOfWithMapping, using the provided DiscriminatedVariantB
func (t *OneOfWithMapping) MergeDiscriminatedVariantB(v DiscriminatedVariantB) error {
	v.Discriminator = "vb"
	b, err := json.Marshal(v)
	if err != nil {
		return err
	}

	merged, err := runtime.JSONMerge(t.union, b)
	t.union = merged
	return err
}

func (t OneOfWithMapping) Discriminator() (string, error) {
	var discriminator struct {
		Discriminator string `json:"discriminator"`
	}
	err := json.Unmarshal(t.union, &discriminator)
	return discriminator.Discriminator, err
}

func (t OneOfWithMapping) ValueByDiscriminator() (interface{}, error) {
	discriminator, err := t.Discriminator()
	if err != nil {
		return nil, err
	}
	switch discriminator {
	case "va":
		return t.AsDiscriminatedVariantA()
	case "vb":
		return t.AsDiscriminatedVariantB()
	default:
		return nil, errors.New("unknown discriminator value: " + discriminator)
	}
}

func (t OneOfWithMapping) MarshalJSON() ([]byte, error) {
	b, err := t.union.MarshalJSON()
	return b, err
}

func (t *OneOfWithMapping) UnmarshalJSON(b []byte) error {
	err := t.union.UnmarshalJSON(b)
	return err
}
