// Package issue200 provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.0.0-00010101000000-000000000000 DO NOT EDIT.
package issue200

import (
	"encoding/json"
	"fmt"
)

// Bar defines model for Bar.
type Bar struct {
	Value *string `json:"value,omitempty"`
}

// Bar2 defines model for Bar2.
type Bar2 struct {
	Value *float32 `json:"value,omitempty"`
}

// BarParam defines model for BarParam.
type BarParam = []int

// BarParam2 defines model for BarParam2.
type BarParam2 = []int

// BarParameter defines model for Bar.
type BarParameter = string

// BarResponse defines model for Bar.
type BarResponse struct {
	Pagination *Bar_Pagination `json:"pagination,omitempty"`
	Value1     *Bar            `json:"value1,omitempty"`
	Value2     *Bar2           `json:"value2,omitempty"`
	Value3     *BarParam       `json:"value3,omitempty"`
	Value4     *BarParam2      `json:"value4,omitempty"`
}

// Bar_Pagination defines model for Bar.Pagination.
type Bar_Pagination struct {
	Page                 *int              `json:"page,omitempty"`
	TotalPages           *int              `json:"totalPages,omitempty"`
	AdditionalProperties map[string]string `json:"-"`
}

// BarRequestBody defines model for Bar.
type BarRequestBody struct {
	Metadata *Bar_Metadata `json:"metadata,omitempty"`
	Value    *int          `json:"value,omitempty"`
}

// Bar_Metadata defines model for Bar.Metadata.
type Bar_Metadata struct {
	Key                  *string           `json:"key,omitempty"`
	AdditionalProperties map[string]string `json:"-"`
}

// PostFooJSONBody defines parameters for PostFoo.
type PostFooJSONBody struct {
	Metadata *PostFooJSONBody_Metadata `json:"metadata,omitempty"`
	Value    *int                      `json:"value,omitempty"`
}

// PostFooParams defines parameters for PostFoo.
type PostFooParams struct {
	Bar *Bar `form:"Bar,omitempty" json:"Bar,omitempty"`
}

// PostFooJSONBody_Metadata defines parameters for PostFoo.
type PostFooJSONBody_Metadata struct {
	Key                  *string           `json:"key,omitempty"`
	AdditionalProperties map[string]string `json:"-"`
}

// PostFooJSONRequestBody defines body for PostFoo for application/json ContentType.
type PostFooJSONRequestBody PostFooJSONBody

// Getter for additional properties for PostFooJSONBody_Metadata. Returns the specified
// element and whether it was found
func (a PostFooJSONBody_Metadata) Get(fieldName string) (value string, found bool) {
	if a.AdditionalProperties != nil {
		value, found = a.AdditionalProperties[fieldName]
	}
	return
}

// Setter for additional properties for PostFooJSONBody_Metadata
func (a *PostFooJSONBody_Metadata) Set(fieldName string, value string) {
	if a.AdditionalProperties == nil {
		a.AdditionalProperties = make(map[string]string)
	}
	a.AdditionalProperties[fieldName] = value
}

// Override default JSON handling for PostFooJSONBody_Metadata to handle AdditionalProperties
func (a *PostFooJSONBody_Metadata) UnmarshalJSON(b []byte) error {
	object := make(map[string]json.RawMessage)
	err := json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["key"]; found {
		err = json.Unmarshal(raw, &a.Key)
		if err != nil {
			return fmt.Errorf("error reading 'key': %w", err)
		}
		delete(object, "key")
	}

	if len(object) != 0 {
		a.AdditionalProperties = make(map[string]string)
		for fieldName, fieldBuf := range object {
			var fieldVal string
			err := json.Unmarshal(fieldBuf, &fieldVal)
			if err != nil {
				return fmt.Errorf("error unmarshaling field %s: %w", fieldName, err)
			}
			a.AdditionalProperties[fieldName] = fieldVal
		}
	}
	return nil
}

// Override default JSON handling for PostFooJSONBody_Metadata to handle AdditionalProperties
func (a PostFooJSONBody_Metadata) MarshalJSON() ([]byte, error) {
	var err error
	object := make(map[string]json.RawMessage)

	if a.Key != nil {
		object["key"], err = json.Marshal(a.Key)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'key': %w", err)
		}
	}

	for fieldName, field := range a.AdditionalProperties {
		object[fieldName], err = json.Marshal(field)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '%s': %w", fieldName, err)
		}
	}
	return json.Marshal(object)
}

// Getter for additional properties for Bar_Pagination. Returns the specified
// element and whether it was found
func (a Bar_Pagination) Get(fieldName string) (value string, found bool) {
	if a.AdditionalProperties != nil {
		value, found = a.AdditionalProperties[fieldName]
	}
	return
}

// Setter for additional properties for Bar_Pagination
func (a *Bar_Pagination) Set(fieldName string, value string) {
	if a.AdditionalProperties == nil {
		a.AdditionalProperties = make(map[string]string)
	}
	a.AdditionalProperties[fieldName] = value
}

// Override default JSON handling for Bar_Pagination to handle AdditionalProperties
func (a *Bar_Pagination) UnmarshalJSON(b []byte) error {
	object := make(map[string]json.RawMessage)
	err := json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["page"]; found {
		err = json.Unmarshal(raw, &a.Page)
		if err != nil {
			return fmt.Errorf("error reading 'page': %w", err)
		}
		delete(object, "page")
	}

	if raw, found := object["totalPages"]; found {
		err = json.Unmarshal(raw, &a.TotalPages)
		if err != nil {
			return fmt.Errorf("error reading 'totalPages': %w", err)
		}
		delete(object, "totalPages")
	}

	if len(object) != 0 {
		a.AdditionalProperties = make(map[string]string)
		for fieldName, fieldBuf := range object {
			var fieldVal string
			err := json.Unmarshal(fieldBuf, &fieldVal)
			if err != nil {
				return fmt.Errorf("error unmarshaling field %s: %w", fieldName, err)
			}
			a.AdditionalProperties[fieldName] = fieldVal
		}
	}
	return nil
}

// Override default JSON handling for Bar_Pagination to handle AdditionalProperties
func (a Bar_Pagination) MarshalJSON() ([]byte, error) {
	var err error
	object := make(map[string]json.RawMessage)

	if a.Page != nil {
		object["page"], err = json.Marshal(a.Page)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'page': %w", err)
		}
	}

	if a.TotalPages != nil {
		object["totalPages"], err = json.Marshal(a.TotalPages)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'totalPages': %w", err)
		}
	}

	for fieldName, field := range a.AdditionalProperties {
		object[fieldName], err = json.Marshal(field)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '%s': %w", fieldName, err)
		}
	}
	return json.Marshal(object)
}

// Getter for additional properties for Bar_Metadata. Returns the specified
// element and whether it was found
func (a Bar_Metadata) Get(fieldName string) (value string, found bool) {
	if a.AdditionalProperties != nil {
		value, found = a.AdditionalProperties[fieldName]
	}
	return
}

// Setter for additional properties for Bar_Metadata
func (a *Bar_Metadata) Set(fieldName string, value string) {
	if a.AdditionalProperties == nil {
		a.AdditionalProperties = make(map[string]string)
	}
	a.AdditionalProperties[fieldName] = value
}

// Override default JSON handling for Bar_Metadata to handle AdditionalProperties
func (a *Bar_Metadata) UnmarshalJSON(b []byte) error {
	object := make(map[string]json.RawMessage)
	err := json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["key"]; found {
		err = json.Unmarshal(raw, &a.Key)
		if err != nil {
			return fmt.Errorf("error reading 'key': %w", err)
		}
		delete(object, "key")
	}

	if len(object) != 0 {
		a.AdditionalProperties = make(map[string]string)
		for fieldName, fieldBuf := range object {
			var fieldVal string
			err := json.Unmarshal(fieldBuf, &fieldVal)
			if err != nil {
				return fmt.Errorf("error unmarshaling field %s: %w", fieldName, err)
			}
			a.AdditionalProperties[fieldName] = fieldVal
		}
	}
	return nil
}

// Override default JSON handling for Bar_Metadata to handle AdditionalProperties
func (a Bar_Metadata) MarshalJSON() ([]byte, error) {
	var err error
	object := make(map[string]json.RawMessage)

	if a.Key != nil {
		object["key"], err = json.Marshal(a.Key)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'key': %w", err)
		}
	}

	for fieldName, field := range a.AdditionalProperties {
		object[fieldName], err = json.Marshal(field)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '%s': %w", fieldName, err)
		}
	}
	return json.Marshal(object)
}
